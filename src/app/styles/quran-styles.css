/* Quran Font CSS - Enhanced with Dynamic Sizing & iOS Optimization */

:root {
    --arabic-font-size: 2rem;
    --arabic-line-height: 2.5;
}

@font-face {
    font-family: 'Uthmanic HAFS';
    src: local('KFGQPC Uthmanic Script HAFS'), local('UthmanicHafs'), url('https://fonts.qurancomplex.gov.sa/wp-content/uploads/2020/07/KFGQPC-Uthmanic-Script-HAFS.woff2') format('woff2'), url('https://fonts.qurancomplex.gov.sa/wp-content/uploads/2020/07/KFGQPC-Uthmanic-Script-HAFS.woff') format('woff');
    font-display: swap;
}


/* iOS-Specific Quran Font */

@supports (-webkit-touch-callout: none) {
    @font-face {
        font-family: 'iOS Quranic';
        src: local('SF Arabic'), local('Al Bayan'), local('DecoType Naskh');
        unicode-range: U+0600-06FF;
    }
}

.arab {
    font-family: 'Uthmanic HAFS', /* iOS Fallback Stack */
    'iOS Quranic', 'SF Arabic', -apple-system, sans-serif;
    font-size: var(--arabic-font-size);
    line-height: var(--arabic-line-height);
    text-align: right;
    direction: rtl;
    font-weight: normal;
    letter-spacing: 0;
    word-spacing: -4px;
    /* Enhanced Rendering */
    text-rendering: optimizeLegibility;
    -webkit-font-smoothing: antialiased;
    font-feature-settings: 'calt' 1, 'liga' 1;
}


/* Dynamic Font Size Classes */

.arab.text-xs {
    --arabic-font-size: 1.25rem;
    --arabic-line-height: 1.8;
}

.arab.text-sm {
    --arabic-font-size: 1.5rem;
    --arabic-line-height: 2;
}

.arab.text-md {
    --arabic-font-size: 1.75rem;
    --arabic-line-height: 2.3;
}

.arab.text-lg {
    --arabic-font-size: 2.25rem;
    --arabic-line-height: 2.8;
}

.arab.text-xl {
    --arabic-font-size: 2.75rem;
    --arabic-line-height: 3.3;
}

.arab.text-2xl {
    --arabic-font-size: 3.5rem;
    --arabic-line-height: 4;
}


/* Font Size Controls (Add these to your HTML) */

.font-controls {
    display: flex;
    gap: 0.5rem;
    margin: 1rem 0;
}

.font-controls button {
    padding: 0.5rem 1rem;
    background: #f0f4f8;
    border: 1px solid #cbd5e0;
    border-radius: 0.25rem;
    cursor: pointer;
    transition: all 0.2s;
}

.font-controls button:hover {
    background: #e2e8f0;
}

.font-controls button.active {
    background: #2d3748;
    color: white;
}


/* iOS Specific Adjustments */

@supports (-webkit-touch-callout: none) {
    .arab {
        word-spacing: -3px;
        letter-spacing: -0.5px;
    }
    /* Enhanced Arabic ligatures for iOS */
    .arab {
        font-feature-settings: 'calt' 1, 'liga' 1, 'rlig' 1, 'clig' 1;
    }
}


/* Responsive Adjustments */

@media (max-width: 768px) {
     :root {
        --arabic-font-size: 1.75rem;
        --arabic-line-height: 2.3;
    }
    .arab.text-xs {
        --arabic-font-size: 1.1rem;
    }
    .arab.text-sm {
        --arabic-font-size: 1.3rem;
    }
    .arab.text-md {
        --arabic-font-size: 1.5rem;
    }
    .arab.text-lg {
        --arabic-font-size: 1.75rem;
    }
    .arab.text-xl {
        --arabic-font-size: 2rem;
    }
}


/* Animation for font size changes */

.arab {
    transition: font-size 0.3s ease, line-height 0.3s ease;
}